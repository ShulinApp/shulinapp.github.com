// Place your application-specific JavaScript functions and classes here
// This file is automatically included by javascript_include_tag :defaults
function render_counter(a,b,c){current_count=parseInt(jQuery("#"+a+"_info").text()),max_count=b.fnGetData().length,current_count!=max_count?jQuery("#objects_count").html("("+current_count+" "+c+" "+max_count+")"):jQuery("#objects_count").html("("+max_count+")")}function init_dataTables(a,b,c,d,e){get_value_from_title=function(a){return x=a.match(/title="(.*?)"/),x==null?x=a:x=x[1].toLowerCase(),x},jQuery.fn.dataTableExt.oSort["title-string-asc"]=function(a,b){var c=get_value_from_title(a),d=get_value_from_title(b);return c<d?-1:c>d?1:0},jQuery.fn.dataTableExt.oSort["title-string-desc"]=function(a,b){var c=get_value_from_title(a),d=get_value_from_title(b);return c<d?1:c>d?-1:0},jQuery.fn.dataTableExt.oSort["title-numeric-asc"]=function(a,b){var c=get_value_from_title(a),d=get_value_from_title(b);return jQuery.fn.dataTableExt.oSort["numeric-asc"](c,d)},jQuery.fn.dataTableExt.oSort["title-numeric-desc"]=function(a,b){var c=get_value_from_title(a),d=get_value_from_title(b);return jQuery.fn.dataTableExt.oSort["numeric-desc"](c,d)};var f={aaSorting:[],bPaginate:!1,oLanguage:{sProcessing:b,sZeroRecords:c,sInfo:"_TOTAL_",sInfoEmpty:"0",sInfoFiltered:"",sInfoPostFix:"",sSearch:""}};return e!=undefined&&(f.aoColumns=e),data_table=jQuery("#"+a).dataTable(f),search_input=jQuery("#"+a+"_search"),clear_query=jQuery("#"+a+"_clear_query"),search_input.length>=0&&(search_input.bind("keyup",function(b){b.keyCode==27&&search_input.val(""),data_table.fnFilter(search_input.val()),max_count=data_table.fnGetData().length,render_counter(a,data_table,d),search_input.val().length>0?clear_query.show():clear_query.hide()}),clear_query.length>=0&&(clear_query.bind("click",function(){search_input.val(""),search_input.keyup()}),clear_query.hide())),render_counter(a,data_table,d),data_table};